# zhongyi_AI
zhongyi AI Assistant — Web Version
  🌿 国医智能小助手 (TCM AI Assistant)
  🔥 点击体验在线演示https://zhongyiai-dldz8ovyrgyqwrgidexco3.streamlit.app/
  基于大语言模型的中医问诊与养生调理助手

📖 项目简介
“国医智能小助手”是一款模拟专业中医师问诊流程的 AI 应用。它通过多轮对话收集用户症状，运用中医辨证逻辑进行分析，最终生成包含深度辨证、食疗方、穴位按跷、起居禁忌等在内的全方位养生调理报告。


💡 产品设计思路
在设计本产品时，我重点关注用户体验（UX）与中医问诊场景的结合，主要体现在以下三个维度：

1. 降低认知门槛的交互设计
引导式对话：用户往往难以准确描述身体状态。产品采用“医生问、用户答”的对话模式，每次仅确认一个核心症状（如寒热、汗液、睡眠），避免用户面对空白输入框无从下手。
混合输入模式：考虑到用户打字可能不便，或对症状描述不清，系统会根据 AI 的提问，智能预判生成 3 个选项按钮（如“睡不着|盗汗|都有”）。用户既可以自由输入，也可以“一键选择”，极大提升了交互流畅度。
2. 情绪价值与碎片化体验
养生锦囊（Side Quest）：在侧边栏设计了“随机养生知识”模块。在用户思考回答或等待 AI 生成报告的间隙，提供“晨起一杯水”、“子时大睡”等碎片化知识，缓解等待焦虑，增强产品的趣味性和陪伴感。
温和的语言风格：通过 Prompt 严格约束 AI 的语气，全程使用“您”、禁止西医术语，营造“老中医”的亲切感。
3. 闭环式服务流程
智能收尾机制：打破了机械的固定轮次问诊。系统设置了“智能判断”逻辑，一旦 AI 认为信息足以辨证，或用户主动点击“生成报告”，即刻输出结果，避免冗余对话。
结果后的追问引导：诊断报告不是终点。报告生成后，系统提供“七日食谱”、“详细忌口”、“更多穴位”等追问按钮，满足用户对特定领域的深挖需求。
🚀 待开发迭代构想 (Roadmap)
多模态诊断：接入视觉大模型，增加“舌象分析”和“面诊分析”功能，用户上传照片即可辅助辨证。
个性化档案建立：引入数据库，记录用户的历史问诊记录，分析体质变化趋势。
语音交互适配：考虑到中医养生受众包含大量中老年群体，未来计划增加语音输入与播报功能。



🛠️ 技术选型理由
本项目选用 Python + Streamlit + ZhipuAI (GLM-4) 作为核心技术栈，主要基于以下考量：

1.开发效率与敏捷迭代（Streamlit）：
考核时间有限（5天），需要快速从 0 到 1 构建原型。Streamlit 允许纯 Python 编写前端，免去了 HTML/CSS/JS 的繁琐配置，能够让我把 80% 的精力集中在Prompt Engineering和业务逻辑上。
Streamlit 的 chat_message 和 session_state 组件天生适合构建对话类应用。
中文医疗语境理解（ZhipuAI / GLM-4）：
中医领域包含大量古文引用（如《黄帝内经》）和晦涩术语（如“阴虚火旺”、“肝郁气滞”）。
相比于国外模型，国产的 GLM-4 模型在中文古籍理解和中医逻辑推理上表现更优，能生成更地道、准确的诊断报告。

2.云端部署便捷性：
Streamlit Community Cloud 提供了免费且一键部署的方案，非常便于分享给面试官和用户直接访问测试。
🧠 快速学习与 Prompt 设计心得
作为一个非中医专业背景的开发者，我在短时间内通过以下路径掌握了核心逻辑并转化为代码：

知识图谱构建：

利用 AI 充当“导师”，快速梳理中医“八纲辨证”（阴阳、表里、寒热、虚实）的基础逻辑，理解了问诊必须涵盖“汗、吐、下、温、清、补、和、消”等关键维度。
调研了市面上主流的“中医体质测试”问卷，提炼出高频核心问题（如怕冷/怕热，口干/口苦）。
结构化 Prompt 工程：

角色沉浸：在 System Prompt 中强制 AI 扮演“经验丰富的主任医师”，并设定“严禁使用西医术语”的负向约束。
思维链（CoT）应用：要求 AI 在输出报告时，必须遵循“症状 -> 病机 -> 体质 -> 方案”的推理路径，确保逻辑自洽。
格式控制：为了保证 Streamlit 渲染美观，我严格定义了输出的 Markdown 模板（如必须包含 ### 🩺 深度辨证 等标题），这让非结构化的 AI 回复变得整洁可读。
📂 项目结构与安装
文件结构
Text

📦 zhongyi_AI
 ┣ 📜 app.py                # 项目主程序入口
 ┣ 📜 requirements.txt      # Python 依赖库列表
 ┗ 📂 .streamlit            # (需自行创建)
   ┗ 📜 secrets.toml        # 存放 API Key 的配置文件
本地运行步骤
克隆仓库

Bash

git clone https://github.com/hetaosu987/zhongyi_AI.git
cd zhongyi_AI
安装依赖
建议使用 Python 3.8+ 环境：

Bash

pip install -r requirements.txt
配置 API Key
在项目根目录下创建一个 .streamlit 文件夹，并在其中新建 secrets.toml 文件，填入你的智谱 AI Key：

Toml

# .streamlit/secrets.toml
API_KEY = "你的_智谱AI_API_KEY_粘贴在这里"
启动应用

Bash

streamlit run app.py
⚠️ 免责声明
本产品仅为 AI 技术在垂直领域的应用演示原型。所有诊断结果、食疗建议及穴位指导均由大模型生成，仅供养生参考，不能替代专业医疗机构的诊断与治疗。如遇身体不适，请务必前往正规医院就诊。
